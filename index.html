<!doctype html>
<html>
<head>
<meta charset="UTF-8">
<title>My app</title>
<link href="http://code.jquery.com/mobile/1.0/jquery.mobile-1.0.min.css" rel="stylesheet" type="text/css">
<script src="http://code.jquery.com/jquery-1.6.4.min.js" type="text/javascript"></script>
<script src="http://code.jquery.com/mobile/1.0/jquery.mobile-1.0.min.js" type="text/javascript"></script>
<script type="text/javascript" src="http://maps.google.com/maps/api/js?key=AIzaSyB2nq_H3NeyzhBylkQV2-N8VwMa9DJSi6A"></script>
<!--
<script>
$(function () { 
  var map = null;
  var destMarker = null;
  var lat = 37.8007873;
  var lng = -144.8996734;
  var z = 16
  var latlng;
  var cPosition = navigator.geolocation.getCurrentPosition(geoSuccess, geoFail, {timeout:3000, enableHighAccuracy:true});
  
  function geoSuccess (pos) {
    lat = pos.coords.latitude;
    lng = pos.coords.longitude;
    latlng = new google.maps.LatLng(lat,lng,z);
  }
  
  function geoFail () { 
    latlng = new google.maps.LatLng(lat,lng); // Default location is San Francisco
    $('.errorMsg').css('display', 'block');
    $('#gMap').css('background-image', 'url(fakeMap.jpg)');
  }
      
  function makeMap () {
    if (map == null) {
      latlng = new google.maps.LatLng(lat,lng); 
      var options = { zoom: 16, center: latlng, disableDefaultUI: true, mapTypeId: google.maps.MapTypeId.ROADMAP };
      map = new google.maps.Map(document.getElementById('theMap'), options);  
      uRHere = new google.maps.Marker({ position: latlng, map: map, title: 'You are here' });
    }
  }
    
  $('.mapIt').click(function () {   
    makeMap();
    var dest = null;
    var category = $(this).closest('div[data-role="page"][id]').attr('id');
    var restName = $(this).parent('div').siblings('h2').text();
    switch (category) {
      case 'taco':
        dest = new google.maps.LatLng(lat + 0.002, lng + 0.002);
        break;
      case 'greek':
        dest = new google.maps.LatLng(lat + 0.001, lng - 0.002);
        break;
      case 'burgers':
        dest = new google.maps.LatLng(lat + 0.003, lng + 0.0015);
        break;
    }
    if (destMarker == null) {
      destMarker = new google.maps.Marker({ position: dest, map: map, icon: 'fork.png', title: restName }); 
    } else {
      destMarker.setPosition(dest);
      destMarker.setTitle(restName);
    }
    $('#map h1').text(restName);
  });
  
  $('body > *').css({minHeight: window.innerHeight + 'px !important'});
  
  document.addEventListener('deviceready', doDeviceReady, false);
  
  function doDeviceReady () {
    // The following tells the app to fade #page1 in after the splash screen
    $('#page').fadeIn(5000);
  }
});
</script>
-->
<script src="map.js" type="text/javascript"> </script>
<script type="text/javascript">
    $('.mapIt').click(function () { 
        app.initialize();
      }</script>
</head>

<body>
<div data-role="page" id="page">
  <div data-role="header">
    <h1>Food Vans</h1>
  </div>
  <div data-role="content"><img src="foodvan.png" width="240" height="66" alt="image">
  
    <ul data-role="listview" data-inset="true">
      <li><a href="#taco">Tacos</a></li>
      <li><a href="#greek">Greek</a></li>
      <li><a href="#burger">Burgers</a></li>
    </ul>
  </div>
</div>

<!-- /////////////Taco page/////////////// -->
<div data-role="page" id="taco" data-add-back-btn="true">
  <div data-role="header">
    <h1>Food Vans</h1>
  </div>  
  <div data-role="content">
    <div class="addr"><img src="homeThumb_one_ton_ono.png" class="thumbnail" width="161"> 
      <h2>Tacos</h2> 
      <p>Street Address<span class="details">Hours: </span>
        <span class="details">Price: $$$</span>
        <span class="details">Web: </span>
      </p>  
    </div> 

    <p class="clearboth">This is content about the food van</p>

      <div data-role="controlgroup" data-type="horizontal" > 
        <a href="#theMap" data-role="button" data-inline="false" class="mapIt">Map It</a>
        <a href="tel://put telephone hereXX" data-role="button" data-inline="false">Call</a>
      </div>
    <p class="errorMsg">Your location could not be detemined.</p> 
    <div id="gMap">
    </div>
  </div>
  
  

  <div data-role="footer">
    <h4>Footscray the University Town</h4>
  </div>
</div>



<!-- //////////////////End Taco Page /////////////////-->



<!-- /////////////////Greek page///////////////////// -->
<div data-role="page" id="greek" data-add-back-btn="true">
  <div data-role="header">
    <h1>Greek</h1>
  </div>
  <div data-role="content">
  	<div class="addr"><img src="homeThumb_yum_pho_you.png" class="thumbnail" width="161">
  <h2>Greek</h2> 
  <p>Street Address<span class="details">Hours: </span>
  <span class="details">Price: $$$</span>
  <span class="details">Web: </span>
  </p>  
  </div> 

<p class="clearboth">This is content about the food van</p>
  <div data-role="controlgroup" data-type="horizontal" >
    <a href="#theMap" data-role="button" data-inline="false" class="mapIt">Map It</a>
    <a href="tel://put telephone hereXX" data-role="button" data-inline="false">Call</a>
  </div>
    <p class="errorMsg">Your location could not be detemined.</p> 
    <div id="gMap"></div>
</div>

  <div data-role="footer">
    <h4>Footscray the University Town</h4>
  </div>
</div>

<!-- ///////////////////////Burger page///////////////////////////////////////////-->
<div data-role="page" id="burger" data-add-back-btn="true">
  <div data-role="header">
    <h1>Burgers</h1>
  </div>

  <div data-role="content">
    <div class="addr"><img src="homeThumb_small_plates.png" class="thumbnail" width="161"> <h2>Burgers</h2> 
      <p>Street Address<span class="details">Hours: </span>
      <span class="details">Price: $$$</span>
      <span class="details">Web: </span>
      </p>  
    </div> 

    <p class="clearboth">This is content about the food van</p>
    <div data-role="controlgroup" data-type="horizontal" >
      <a href="#theMap" data-role="button" data-inline="false" class="mapIt">Map It</a>
      <a href="tel://put telephone hereXX" data-role="button" data-inline="false">Call</a>
    </div>
  </div>


<p class="errorMsg">Your location could not be detemined.</p> 
<div id="gMap">
</div>

  <div data-role="footer">
    <h4>Footscray the University Town</h4>
  </div>
</div>
<div data-role="page" id="geolocation" data-add-back-btn="true">
  <div data-role="header">
    <h1>Food Vans</h1>
  </div> 
<div data-role="content"></div>
  <div data-role="footer">
    <h4>Footscray the University Town</h4>
  </div> 
</div>
</body>
</html>
