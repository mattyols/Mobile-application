<!doctype html>
<html>
<head>
<meta charset="UTF-8">
<title>Nicholson St - Places to eat</title>
<link href="http://code.jquery.com/mobile/1.0/jquery.mobile-1.0.min.css" rel="stylesheet" type="text/css">
<script src="http://code.jquery.com/jquery-1.6.4.min.js" type="text/javascript"></script>
<script src="http://code.jquery.com/mobile/1.0/jquery.mobile-1.0.min.js" type="text/javascript"></script>
<script type="text/javascript" src="http://maps.google.com/maps/api/js?key=AIzaSyB2nq_H3NeyzhBylkQV2-N8VwMa9DJSi6A"></script>
<script src="map.js" type="text/javascript"></script>

<script>
$(function () { 
  var map = null;
  var destMarker = null;
  var lat = -37.8007873;
  var lng = 144.8996734;
  var z = 16
  var latlng;
  var cPosition = navigator.geolocation.getCurrentPosition(geoSuccess, geoFail, {timeout:3000, enableHighAccuracy:true});
  
  function geoSuccess (pos) {
    lat = pos.coords.latitude;
    lng = pos.coords.longitude;
    latlng = new google.maps.LatLng(lat,lng,z);
  }
  
  function geoFail () { 
    alert('code: '    +error.code   + '\n' + 'message: ' + error.message + '\n');
  }
      
  function makeMap () {
    if (map == null) {
      latlng = new google.maps.LatLng(lat,lng); 
      var options = { zoom: 18, center: latlng, disableDefaultUI: true, mapTypeId: google.maps.MapTypeId.ROADMAP };
      map = new google.maps.Map(document.getElementById('tMap'), options);  
    }
  }
    
  $('.mapIt').click(function () { 
    initialize();  
    makeMap();
    var dest = null;
    var category = $(this).closest('div[data-role="page"][id]').attr('id');
    var restName = $(this).parent('div').siblings('h2').text();
    switch (category) {
      case 'baby':
        dest = new google.maps.LatLng(lat = -37.8017433, lng = 144.8991473);
        break;
      case 'bull':
        dest = new google.maps.LatLng(lat = -37.8002557, lng = 144.8996518);
        break;
      case 'happy':
        dest = new google.maps.LatLng(lat = -37.8012377, lng = 144.8994674);
        break;
      case 'kebab':
        dest = new google.maps.LatLng(lat = -37.8003352, lng = 144.8996116);
        break;
      case 'queen':
        dest = new google.maps.LatLng(lat = -37.8015315, lng = 144.8991813);
        break;
      case 'amasya':
        dest = new google.maps.LatLng(lat = -37.8013088, lng = 144.8992218);
        break;
    }
    if (destMarker == null) {
      destMarker = new google.maps.Marker({ position: dest, map: map, icon: 'images/fork.png', title: restName }); 
    } else {
      destMarker.setPosition(dest);
      destMarker.setTitle(restName);
    }
    $('#themap h2').text(restName);
  });
  
  $('body > *').css({minHeight: window.innerHeight + 'px !important'});
  


});
</script>



<script type="text/javascript">
    var rnd =[];
  rnd[0]="baby"
  rnd[1]="bull"
  rnd[2]="happy"
  rnd[0]="kebab"
  rnd[1]="queen"
  rnd[2]="amasya"

function rndPage(){
     var idx = Math.floor(Math.random()*rnd.length);
 
     $.mobile.changePage('#' + rnd[idx], {transition:'pop'}
   )};
</script>

</head>

<body>
<div data-role="page" id="page">
  <div data-role="header">
    <h1>Nicholson St - Places to eat</h1>
  </div>
  <div data-role="content">
  
    <ul data-role="listview" data-inset="true">
      <li><a href="#baby">Babylon Restaurant</a></li>
      <li><a href="#bull">Cafe Bulldog</a></li>
      <li><a href="#happy">Happy Kebabs</a></li>
      <li><a href="#kebab">Kebab House</a></li>
      <li><a href="#queen">Queen Palace Cusine</a></li>
      <li><a href="#amasya">Amasya Kebab House</a></li>
    </ul>
    <a href="javascript:rndPage();" data-theme="b" data-role="button">Surpise Me</a>
  </div>

   <div data-role="footer">
    <h4>Footscray the University Town</h4>
  </div>
</div>








<!-- /////////////Babylon Restaurant/////////////// -->
<div data-role="page" id="baby" data-add-back-btn="true">
  <div data-role="header">
    <h1>Nicholson St - Places to eat</h1>
  </div>  
  <div data-role="content">
    <div class="addr"><img src="images/babylon.png" class="thumbnail" width="161"> 
      <h2>Babylon Restaurant</h2> 
      <p>Street Address: 152 Nicholson Street</br>
      </p>  
    </div> 

    <p class="clearboth">Coffee, Pizza and Kebabs</br>Offers the lowest prices and Freshest produce</p>

      <div data-role="controlgroup" data-type="horizontal" > 
        <a href="#theMap" data-role="button" data-inline="false" class="mapIt">Map It</a>
        <a href="tel://96893323" data-role="button" data-inline="false">Call</a>
      </div>
    
    </div>
  <div data-role="footer">
    <h4>Footscray the University Town</h4>
  </div>
</div>



<!-- //////////////////Babylon Restaurant/////////////////-->



<!-- /////////////////Cafe Bulldog///////////////////// -->
<div data-role="page" id="bull" data-add-back-btn="true">
  <div data-role="header">
    <h1>Nicholson St - Places to eat</h1>
  </div>
  <div data-role="content">
  	<div class="addr"><img src="images/bulldog.png" class="thumbnail" width="161">
  <h2>Cafe Bulldog</h2> 
  <p>Street Address: 91 Nicholson Street</br>
  </p>  
  </div> 

  <p class="clearboth">Best place on the street for breakfast</p>
  <div data-role="controlgroup" data-type="horizontal" >
    <a href="#theMap" data-role="button" data-inline="false" class="mapIt">Map It</a>
    <a href="tel://96877155" data-role="button" data-inline="false">Call</a>
  </div>
   
  </div>

  <div data-role="footer">
    <h4>Footscray the University Town</h4>
  </div>
</div>

<!-- /////////////////Cafe Bulldog/////////////////-->




<!-- ///////////////////////Happy Kebabs///////////////////////////////////////////-->
<div data-role="page" id="happy" data-add-back-btn="true">
  <div data-role="header">
    <h1>Nicholson St - Places to eat</h1>
  </div>

  <div data-role="content">
    <div class="addr"><img src="images/happy.png" class="thumbnail" width="161">
     <h2>Happy Kebabs</h2> 
      <p>Street Address: 123 Nicholson Street</br>
      </p>  
    </div> 

    <p class="clearboth">Kebabs, Pide, Dips and Coffee</p>
    <div data-role="controlgroup" data-type="horizontal" >
      <a href="#theMap" data-role="button" data-inline="false" class="mapIt">Map It</a>
      <a href="tel://96893534" data-role="button" data-inline="false">Call</a>
    </div>
  </div>
  <div data-role="footer">
    <h4>Footscray the University Town</h4>
  </div>
</div>

<!-- //////////////////Happy Kebabs/////////////////-->


<!-- /////////////////Kebab House///////////////////// -->
<div data-role="page" id="kebab" data-add-back-btn="true">
  <div data-role="header">
    <h1>Nicholson St - Places to eat</h1>
  </div>
  <div data-role="content">
    <div class="addr"><img src="images/kebab.png" class="thumbnail" width="161">
  <h2>Kebab House</h2> 
  <p>Street Address: 93 Nicholson Street</br>
  </p>  
  </div> 

  <p class="clearboth">Coffee and Kebabs, Buy a kebab, get a free can</p>
  <div data-role="controlgroup" data-type="horizontal" >
    <a href="#theMap" data-role="button" data-inline="false" class="mapIt">Map It</a>
    <a href="tel://96890777" data-role="button" data-inline="false">Call</a>
  </div>

  </div>

  <div data-role="footer">
    <h4>Footscray the University Town</h4>
  </div>
</div>

<!-- //////////////////Kebab House /////////////////-->


<!-- /////////////////Queen Palace Cusine///////////////////// -->
<div data-role="page" id="queen" data-add-back-btn="true">
  <div data-role="header">
    <h1>Nicholson St - Places to eat</h1>
  </div>
  <div data-role="content">
    <div class="addr"><img src="images/cafe.png" class="thumbnail" width="161">
  <h2>Queen Palace Cusine</h2> 
  <p>Street Address: 148 Nicholson Street</br>
  </p>  
  </div> 

  <p class="clearboth">Vietamese and Chinese Resaurant</p>
  <div data-role="controlgroup" data-type="horizontal" >
    <a href="#theMap" data-role="button" data-inline="false" class="mapIt">Map It</a>
    <a href="tel://93961964" data-role="button" data-inline="false">Call</a>
  </div>

  </div>

  <div data-role="footer">
    <h4>Footscray the University Town</h4>
  </div>
</div>

<!-- //////////////////Queen Palace Cusine/////////////////-->


<!-- /////////////////Amasya Kebab House///////////////////// -->
<div data-role="page" id="amasya" data-add-back-btn="true">
  <div data-role="header">
    <h1>Nicholson St - Places to eat</h1>
  </div>
  <div data-role="content">
    <div class="addr"><img src="images/amasya.png" class="thumbnail" width="161">
  <h2>Amasya Kebab House</h2> 
  <p>Street Address: 132 Nicholson Street</br>
  </p>  
  </div> 

  <p class="clearboth">Serving since 1987, specialising in pride</p>
  <div data-role="controlgroup" data-type="horizontal" >
    <a href="#theMap" data-role="button" data-inline="false" class="mapIt">Map It</a>
    <a href="tel://96877032" data-role="button" data-inline="false">Call</a>
  </div>

  </div>

  <div data-role="footer">
    <h4>Footscray the University Town</h4>
  </div>
</div>

<!-- //////////////////Amasya Kebab House/////////////////-->



<!--///////////////////Map page///////////////////////-->
<div data-role="page" id="theMap" data-add-back-btn="true">
  <div data-role="header">
    <h1>Nicholson St - Places to eat</h1>
  </div>

  <style type="text/css">
      html { height: 100%; width: 100%; }
      body { height: 100%; width: 100%; margin: 0; padding: 0 }
      #tMap { height: 100%; width: 100%; }
      #theMap { height: 100%; width: 100%; }
    </style> 
  <div id="tMap" style="width:100%; height:100%"></div>
    <div data-role="footer">
      <h4>Footscray the University Town</h4>
    </div> 
</div>

</body>
</html>
